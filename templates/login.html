{% extends "base.html" %}

{% block content %}
<div class="container">
  {% if let Some(message) = message %}
  <div class="message" role="alert">
    <strong>{{ message }}</strong>
  </div>
  {% endif %}

  {% if let Some(error) = error %}
  <div class="error" role="alert">
    <strong>Something went wrong: {{ error }}</strong>
  </div>
  {% endif %}

  <p>Log in with either an email link, email address and password or OAuth</p>

  <div class="card">
    <h2>Magic link login</h2>
    <form action="/login/email" method="post" class="form">
      <div class="form-group">
        <label for="email">Email</label>
        <input name="email" id="email" value="stefan@provai.eu" aria-label="Email for magic link login" />
      </div>
      <input type="submit" value="Login" class="button" />
    </form>
    {% if let Some(next) = next %}
    <input type="hidden" name="next" value="{{ next }}" />
    {% endif %}
  </div>

  <div class="card">
    <h2>Password login</h2>
    <form action="/login/password" method="post" class="form">
      <div class="form-group">
        <label for="email">Email</label>
        <input name="email" id="email" value="stefan@provai.eu" aria-label="Email for password login" />
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input name="password" id="password" type="password" value="hunter42" aria-label="Password" />
      </div>
      <input type="submit" value="Login" class="button" />
      <a href="/password/send-reset" class="forgot-password">Forgot password?</a>
    </form>
    {% if let Some(next) = next %}
    <input type="hidden" name="next" value="{{ next }}" />
    {% endif %}
  </div>

  <div class="card">
    <h2>OAuth login</h2>
    {% for provider in oauth_providers %}
    <form action="/login/oauth" method="post" class="form">
      <input type="hidden" name="provider" value="{{ provider.name }}" />
      <input type="submit" value="{{ provider.display_name }}" class="button" />
      {% if let Some(next) = next %}
      <input type="hidden" name="next" value="{{ next }}" />
      {% endif %}
    </form>
    {% endfor %}
  </div>

  <div class="card">
    <h2>No account yet?</h2>
    <a href="/signup" class="signup-link">Sign up!</a>
  </div>
</div>
{% endblock %}